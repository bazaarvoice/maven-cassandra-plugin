<project
    xmlns="http://maven.apache.org/POM/4.0.0"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">

    <modelVersion>4.0.0</modelVersion>

    <parent>
        <groupId>com.bazaarvoice.commons</groupId>
        <artifactId>bv-super-pom</artifactId>
        <version>1.9</version>
        <relativePath></relativePath>
    </parent>

    <groupId>com.bazaarvoice.product.schema</groupId>
    <artifactId>product-schema-parent</artifactId>
    <version>1.0-SNAPSHOT</version>
    <packaging>pom</packaging>

    <properties>
        <xml.version>UNSPECIFIED</xml.version>
        <xsdconfig.file>src/main/xsdconfig/bv-all-${xml.version}.xsdconfig</xsdconfig.file>
        <all.xsd.dir>src/main/xsdall</all.xsd.dir>
        <split.file.xsl>${basedir}/../meta/bv-all-split.xsl</split.file.xsl>
        <validation.file.xsd>${basedir}/../meta/w3c/XMLSchema.xsd</validation.file.xsd>
        <generated.dir>src/main/generated</generated.dir>
        <generated.xsd.resource.path>schemaorg_apache_xmlbeans/generated/v${xml.version}</generated.xsd.resource.path>
        <generated.xsd.dir>${generated.dir}/${generated.xsd.resource.path}</generated.xsd.dir>
    </properties>

    <dependencies>
        <dependency>
            <groupId>org.apache.xmlbeans</groupId>
            <artifactId>xmlbeans</artifactId>
            <version>2.4.0</version>
        </dependency>
    </dependencies>

    <profiles>
        <profile>
            <id>schema-code-generation</id>
            <!--
            Activate schema code generation only when the module inheriting this pom has a src/main/xsdconfig.
            -->
            <activation>
                <file>
                    <exists>src/main/xsdconfig</exists>
                </file>
            </activation>
            <build>
                <resources>
                    <resource>
                        <directory>src/main/java</directory>
                        <excludes>
                            <exclude>**/*.java</exclude>
                        </excludes>
                    </resource>
                    <resource>
                        <directory>src/main/resources</directory>
                    </resource>
                    <resource>
                        <directory>${generated.dir}</directory>
                    </resource>
                </resources>
                <plugins>
                    <!--
                        Configure maven-clean-plugin to also clean ${generated.dir}.
                    -->
                    <plugin>
                        <artifactId>maven-clean-plugin</artifactId>
                        <configuration>
                            <filesets>
                                <fileset>
                                    <directory>${generated.dir}</directory>
                                    <includes>
                                        <include>**/*.*</include>
                                    </includes>
                                </fileset>
                            </filesets>
                        </configuration>
                    </plugin>
                    <!--
                        Configure xml-maven-plugin to split the bv-all schema into schema parts.
                    -->
                    <plugin>
                        <groupId>org.codehaus.mojo</groupId>
                        <artifactId>xml-maven-plugin</artifactId>
                        <executions>
                            <execution>
                                <id>split-xsds</id>
                                <phase>generate-sources</phase>
                                <goals>
                                    <goal>transform</goal>
                                </goals>
                                <configuration>
                                    <transformationSets>
                                        <!--
                                            answers-display generation
                                        -->
                                        <transformationSet>
                                            <dir>${all.xsd.dir}</dir>
                                            <stylesheet>${split.file.xsl}</stylesheet>
                                            <includes>
                                                <include>bv-all-${xml.version}.xsd</include>
                                            </includes>
                                            <outputDir>${generated.xsd.dir}</outputDir>
                                            <parameters>
                                                <parameter>
                                                    <name>outputns</name>
                                                    <value>http://www.bazaarvoice.com/xs/QA/AnswersDisplay/${xml.version}</value>
                                                </parameter>
                                                <parameter>
                                                    <name>outputxsd</name>
                                                    <value>answers-display</value>
                                                </parameter>
                                            </parameters>
                                            <fileMappers>
                                                <fileMapper implementation="org.codehaus.plexus.components.io.filemappers.RegExpFileMapper">
                                                    <pattern>bv-all-${xml.version}\.xsd</pattern>
                                                    <replacement>answers-display-${xml.version}.xsd</replacement>
                                                </fileMapper>
                                            </fileMappers>
                                        </transformationSet>
                                        <!--
                                            answers-submit generation
                                        -->
                                        <transformationSet>
                                            <dir>${all.xsd.dir}</dir>
                                            <stylesheet>${split.file.xsl}</stylesheet>
                                            <includes>
                                                <include>bv-all-${xml.version}.xsd</include>
                                            </includes>
                                            <outputDir>${generated.xsd.dir}</outputDir>
                                            <parameters>
                                                <parameter>
                                                    <name>outputns</name>
                                                    <value>http://www.bazaarvoice.com/xs/QA/AnswersSubmit/${xml.version}</value>
                                                </parameter>
                                                <parameter>
                                                    <name>outputxsd</name>
                                                    <value>answers-submit</value>
                                                </parameter>
                                            </parameters>
                                            <fileMappers>
                                                <fileMapper implementation="org.codehaus.plexus.components.io.filemappers.RegExpFileMapper">
                                                    <pattern>bv-all-${xml.version}\.xsd</pattern>
                                                    <replacement>answers-submit-${xml.version}.xsd</replacement>
                                                </fileMapper>
                                            </fileMappers>
                                        </transformationSet>
                                        <!--
                                            brand-answers-all-qa-report generation
                                        -->
                                        <transformationSet>
                                            <dir>${all.xsd.dir}</dir>
                                            <stylesheet>${split.file.xsl}</stylesheet>
                                            <includes>
                                                <include>bv-all-${xml.version}.xsd</include>
                                            </includes>
                                            <outputDir>${generated.xsd.dir}</outputDir>
                                            <parameters>
                                                <parameter>
                                                    <name>outputns</name>
                                                    <value>http://www.bazaarvoice.com/xs/Internal/BrandAnswersAllQAReport/${xml.version}</value>
                                                </parameter>
                                                <parameter>
                                                    <name>outputxsd</name>
                                                    <value>brand-answers-all-qa-report</value>
                                                </parameter>
                                            </parameters>
                                            <fileMappers>
                                                <fileMapper implementation="org.codehaus.plexus.components.io.filemappers.RegExpFileMapper">
                                                    <pattern>bv-all-${xml.version}\.xsd</pattern>
                                                    <replacement>brand-answers-all-qa-report-${xml.version}.xsd</replacement>
                                                </fileMapper>
                                            </fileMappers>
                                        </transformationSet>
                                        <!--
                                            brand-answers-product-report generation
                                        -->
                                        <transformationSet>
                                            <dir>${all.xsd.dir}</dir>
                                            <stylesheet>${split.file.xsl}</stylesheet>
                                            <includes>
                                                <include>bv-all-${xml.version}.xsd</include>
                                            </includes>
                                            <outputDir>${generated.xsd.dir}</outputDir>
                                            <parameters>
                                                <parameter>
                                                    <name>outputns</name>
                                                    <value>http://www.bazaarvoice.com/xs/Internal/BrandAnswersProductReport/${xml.version}</value>
                                                </parameter>
                                                <parameter>
                                                    <name>outputxsd</name>
                                                    <value>brand-answers-product-report</value>
                                                </parameter>
                                            </parameters>
                                            <fileMappers>
                                                <fileMapper implementation="org.codehaus.plexus.components.io.filemappers.RegExpFileMapper">
                                                    <pattern>bv-all-${xml.version}\.xsd</pattern>
                                                    <replacement>brand-answers-product-report-${xml.version}.xsd</replacement>
                                                </fileMapper>
                                            </fileMappers>
                                        </transformationSet>
                                        <!--
                                            brand-answers-display generation
                                        -->
                                        <transformationSet>
                                            <dir>${all.xsd.dir}</dir>
                                            <stylesheet>${split.file.xsl}</stylesheet>
                                            <includes>
                                                <include>bv-all-${xml.version}.xsd</include>
                                            </includes>
                                            <outputDir>${generated.xsd.dir}</outputDir>
                                            <parameters>
                                                <parameter>
                                                    <name>outputns</name>
                                                    <value>http://www.bazaarvoice.com/xs/PRR/BrandAnswersDisplay/${xml.version}</value>
                                                </parameter>
                                                <parameter>
                                                    <name>outputxsd</name>
                                                    <value>brand-answers-display</value>
                                                </parameter>
                                            </parameters>
                                            <fileMappers>
                                                <fileMapper implementation="org.codehaus.plexus.components.io.filemappers.RegExpFileMapper">
                                                    <pattern>bv-all-${xml.version}\.xsd</pattern>
                                                    <replacement>brand-answers-display-${xml.version}.xsd</replacement>
                                                </fileMapper>
                                            </fileMappers>
                                        </transformationSet>
                                        <!--
                                            client-data-standards-report generation
                                        -->
                                        <transformationSet>
                                            <dir>${all.xsd.dir}</dir>
                                            <stylesheet>${split.file.xsl}</stylesheet>
                                            <includes>
                                                <include>bv-all-${xml.version}.xsd</include>
                                            </includes>
                                            <outputDir>${generated.xsd.dir}</outputDir>
                                            <parameters>
                                                <parameter>
                                                    <name>outputns</name>
                                                    <value>http://www.bazaarvoice.com/xs/Internal/ClientDataStandardsReport/${xml.version}</value>
                                                </parameter>
                                                <parameter>
                                                    <name>outputxsd</name>
                                                    <value>client-data-standards-report</value>
                                                </parameter>
                                            </parameters>
                                            <fileMappers>
                                                <fileMapper implementation="org.codehaus.plexus.components.io.filemappers.RegExpFileMapper">
                                                    <pattern>bv-all-${xml.version}\.xsd</pattern>
                                                    <replacement>client-data-standards-report-${xml.version}.xsd</replacement>
                                                </fileMapper>
                                            </fileMappers>
                                        </transformationSet>
                                        <!--
                                            customer-email-alerts generation
                                        -->
                                        <transformationSet>
                                            <dir>${all.xsd.dir}</dir>
                                            <stylesheet>${split.file.xsl}</stylesheet>
                                            <includes>
                                                <include>bv-all-${xml.version}.xsd</include>
                                            </includes>
                                            <outputDir>${generated.xsd.dir}</outputDir>
                                            <parameters>
                                                <parameter>
                                                    <name>outputns</name>
                                                    <value>http://www.bazaarvoice.com/xs/Internal/CustomerEmailAlerts/${xml.version}</value>
                                                </parameter>
                                                <parameter>
                                                    <name>outputxsd</name>
                                                    <value>customer-email-alerts</value>
                                                </parameter>
                                            </parameters>
                                            <fileMappers>
                                                <fileMapper implementation="org.codehaus.plexus.components.io.filemappers.RegExpFileMapper">
                                                    <pattern>bv-all-${xml.version}\.xsd</pattern>
                                                    <replacement>customer-email-alerts-${xml.version}.xsd</replacement>
                                                </fileMapper>
                                            </fileMappers>
                                        </transformationSet>
                                        <!--
                                            data-api-query generation
                                        -->
                                        <transformationSet>
                                            <dir>${all.xsd.dir}</dir>
                                            <stylesheet>${split.file.xsl}</stylesheet>
                                            <includes>
                                                <include>bv-all-${xml.version}.xsd</include>
                                            </includes>
                                            <outputDir>${generated.xsd.dir}</outputDir>
                                            <parameters>
                                                <parameter>
                                                    <name>outputns</name>
                                                    <value>http://www.bazaarvoice.com/xs/DataApiQuery/${xml.version}</value>
                                                </parameter>
                                                <parameter>
                                                    <name>outputxsd</name>
                                                    <value>data-api-query</value>
                                                </parameter>
                                            </parameters>
                                            <fileMappers>
                                                <fileMapper implementation="org.codehaus.plexus.components.io.filemappers.RegExpFileMapper">
                                                    <pattern>bv-all-${xml.version}\.xsd</pattern>
                                                    <replacement>data-api-query-${xml.version}.xsd</replacement>
                                                </fileMapper>
                                            </fileMappers>
                                        </transformationSet>
                                        <!--
                                            data-api-submit generation
                                        -->
                                        <transformationSet>
                                            <dir>${all.xsd.dir}</dir>
                                            <stylesheet>${split.file.xsl}</stylesheet>
                                            <includes>
                                                <include>bv-all-${xml.version}.xsd</include>
                                            </includes>
                                            <outputDir>${generated.xsd.dir}</outputDir>
                                            <parameters>
                                                <parameter>
                                                    <name>outputns</name>
                                                    <value>http://www.bazaarvoice.com/xs/DataApiSubmit/${xml.version}</value>
                                                </parameter>
                                                <parameter>
                                                    <name>outputxsd</name>
                                                    <value>data-api-submit</value>
                                                </parameter>
                                            </parameters>
                                            <fileMappers>
                                                <fileMapper implementation="org.codehaus.plexus.components.io.filemappers.RegExpFileMapper">
                                                    <pattern>bv-all-${xml.version}\.xsd</pattern>
                                                    <replacement>data-api-submit-${xml.version}.xsd</replacement>
                                                </fileMapper>
                                            </fileMappers>
                                        </transformationSet>
                                        <!--
                                            data-api-input-fields generation
                                        -->
                                        <transformationSet>
                                            <dir>${all.xsd.dir}</dir>
                                            <stylesheet>${split.file.xsl}</stylesheet>
                                            <includes>
                                                <include>bv-all-${xml.version}.xsd</include>
                                            </includes>
                                            <outputDir>${generated.xsd.dir}</outputDir>
                                            <parameters>
                                                <parameter>
                                                    <name>outputns</name>
                                                    <value>http://www.bazaarvoice.com/xs/DataApiInputFields/${xml.version}</value>
                                                </parameter>
                                                <parameter>
                                                    <name>outputxsd</name>
                                                    <value>data-api-input-fields</value>
                                                </parameter>
                                            </parameters>
                                            <fileMappers>
                                                <fileMapper implementation="org.codehaus.plexus.components.io.filemappers.RegExpFileMapper">
                                                    <pattern>bv-all-${xml.version}\.xsd</pattern>
                                                    <replacement>data-api-input-fields-${xml.version}.xsd</replacement>
                                                </fileMapper>
                                            </fileMappers>
                                        </transformationSet>
                                        <!--
                                            internal-tools generation
                                        -->
                                        <transformationSet>
                                            <dir>${all.xsd.dir}</dir>
                                            <stylesheet>${split.file.xsl}</stylesheet>
                                            <includes>
                                                <include>bv-all-${xml.version}.xsd</include>
                                            </includes>
                                            <outputDir>${generated.xsd.dir}</outputDir>
                                            <parameters>
                                                <parameter>
                                                    <name>outputns</name>
                                                    <value>http://www.bazaarvoice.com/xs/InternalTools/${xml.version}</value>
                                                </parameter>
                                                <parameter>
                                                    <name>outputxsd</name>
                                                    <value>internal-tools</value>
                                                </parameter>
                                            </parameters>
                                            <fileMappers>
                                                <fileMapper implementation="org.codehaus.plexus.components.io.filemappers.RegExpFileMapper">
                                                    <pattern>bv-all-${xml.version}\.xsd</pattern>
                                                    <replacement>internal-tools-${xml.version}.xsd</replacement>
                                                </fileMapper>
                                            </fileMappers>
                                        </transformationSet>
                                        <!--
                                            people-feed generation
                                        -->
                                        <transformationSet>
                                            <dir>${all.xsd.dir}</dir>
                                            <stylesheet>${split.file.xsl}</stylesheet>
                                            <includes>
                                                <include>bv-all-${xml.version}.xsd</include>
                                            </includes>
                                            <outputDir>${generated.xsd.dir}</outputDir>
                                            <parameters>
                                                <parameter>
                                                    <name>outputns</name>
                                                    <value>http://www.bazaarvoice.com/xs/PRR/PeopleFeed/${xml.version}</value>
                                                </parameter>
                                                <parameter>
                                                    <name>outputxsd</name>
                                                    <value>people-feed</value>
                                                </parameter>
                                            </parameters>
                                            <fileMappers>
                                                <fileMapper implementation="org.codehaus.plexus.components.io.filemappers.RegExpFileMapper">
                                                    <pattern>bv-all-${xml.version}\.xsd</pattern>
                                                    <replacement>people-feed-${xml.version}.xsd</replacement>
                                                </fileMapper>
                                            </fileMappers>
                                        </transformationSet>
                                        <!--
                                            post-purchase-feed generation
                                        -->
                                        <transformationSet>
                                            <dir>${all.xsd.dir}</dir>
                                            <stylesheet>${split.file.xsl}</stylesheet>
                                            <includes>
                                                <include>bv-all-${xml.version}.xsd</include>
                                            </includes>
                                            <outputDir>${generated.xsd.dir}</outputDir>
                                            <parameters>
                                                <parameter>
                                                    <name>outputns</name>
                                                    <value>http://www.bazaarvoice.com/xs/PRR/PostPurchaseFeed/${xml.version}</value>
                                                </parameter>
                                                <parameter>
                                                    <name>outputxsd</name>
                                                    <value>post-purchase-feed</value>
                                                </parameter>
                                            </parameters>
                                            <fileMappers>
                                                <fileMapper implementation="org.codehaus.plexus.components.io.filemappers.RegExpFileMapper">
                                                    <pattern>bv-all-${xml.version}\.xsd</pattern>
                                                    <replacement>post-purchase-feed-${xml.version}.xsd</replacement>
                                                </fileMapper>
                                            </fileMappers>
                                        </transformationSet>
                                        <!--
                                            product-feed generation
                                        -->
                                        <transformationSet>
                                            <dir>${all.xsd.dir}</dir>
                                            <stylesheet>${split.file.xsl}</stylesheet>
                                            <includes>
                                                <include>bv-all-${xml.version}.xsd</include>
                                            </includes>
                                            <outputDir>${generated.xsd.dir}</outputDir>
                                            <parameters>
                                                <parameter>
                                                    <name>outputns</name>
                                                    <value>http://www.bazaarvoice.com/xs/PRR/ProductFeed/${xml.version}</value>
                                                </parameter>
                                                <parameter>
                                                    <name>outputxsd</name>
                                                    <value>product-feed</value>
                                                </parameter>
                                            </parameters>
                                            <fileMappers>
                                                <fileMapper implementation="org.codehaus.plexus.components.io.filemappers.RegExpFileMapper">
                                                    <pattern>bv-all-${xml.version}\.xsd</pattern>
                                                    <replacement>product-feed-${xml.version}.xsd</replacement>
                                                </fileMapper>
                                            </fileMappers>
                                        </transformationSet>
                                        <!--
                                            profiles-display generation
                                        -->
                                        <transformationSet>
                                            <dir>${all.xsd.dir}</dir>
                                            <stylesheet>${split.file.xsl}</stylesheet>
                                            <includes>
                                                <include>bv-all-${xml.version}.xsd</include>
                                            </includes>
                                            <outputDir>${generated.xsd.dir}</outputDir>
                                            <parameters>
                                                <parameter>
                                                    <name>outputns</name>
                                                    <value>http://www.bazaarvoice.com/xs/Profiles/ProfilesDisplay/${xml.version}</value>
                                                </parameter>
                                                <parameter>
                                                    <name>outputxsd</name>
                                                    <value>profiles-display</value>
                                                </parameter>
                                            </parameters>
                                            <fileMappers>
                                                <fileMapper implementation="org.codehaus.plexus.components.io.filemappers.RegExpFileMapper">
                                                    <pattern>bv-all-${xml.version}\.xsd</pattern>
                                                    <replacement>profiles-display-${xml.version}.xsd</replacement>
                                                </fileMapper>
                                            </fileMappers>
                                        </transformationSet>
                                        <!--
                                            profiles-submit generation
                                        -->
                                        <transformationSet>
                                            <dir>${all.xsd.dir}</dir>
                                            <stylesheet>${split.file.xsl}</stylesheet>
                                            <includes>
                                                <include>bv-all-${xml.version}.xsd</include>
                                            </includes>
                                            <outputDir>${generated.xsd.dir}</outputDir>
                                            <parameters>
                                                <parameter>
                                                    <name>outputns</name>
                                                    <value>http://www.bazaarvoice.com/xs/Profiles/ProfilesSubmit/${xml.version}</value>
                                                </parameter>
                                                <parameter>
                                                    <name>outputxsd</name>
                                                    <value>profiles-submit</value>
                                                </parameter>
                                            </parameters>
                                            <fileMappers>
                                                <fileMapper implementation="org.codehaus.plexus.components.io.filemappers.RegExpFileMapper">
                                                    <pattern>bv-all-${xml.version}\.xsd</pattern>
                                                    <replacement>profiles-submit-${xml.version}.xsd</replacement>
                                                </fileMapper>
                                            </fileMappers>
                                        </transformationSet>
                                        <!--
                                            reviews-display generation
                                        -->
                                        <transformationSet>
                                            <dir>${all.xsd.dir}</dir>
                                            <stylesheet>${split.file.xsl}</stylesheet>
                                            <includes>
                                                <include>bv-all-${xml.version}.xsd</include>
                                            </includes>
                                            <outputDir>${generated.xsd.dir}</outputDir>
                                            <parameters>
                                                <parameter>
                                                    <name>outputns</name>
                                                    <value>http://www.bazaarvoice.com/xs/PRR/ReviewsDisplay/${xml.version}</value>
                                                </parameter>
                                                <parameter>
                                                    <name>outputxsd</name>
                                                    <value>reviews-display</value>
                                                </parameter>
                                            </parameters>
                                            <fileMappers>
                                                <fileMapper implementation="org.codehaus.plexus.components.io.filemappers.RegExpFileMapper">
                                                    <pattern>bv-all-${xml.version}\.xsd</pattern>
                                                    <replacement>reviews-display-${xml.version}.xsd</replacement>
                                                </fileMapper>
                                            </fileMappers>
                                        </transformationSet>
                                        <!--
                                            reviews-submit generation
                                        -->
                                        <transformationSet>
                                            <dir>${all.xsd.dir}</dir>
                                            <stylesheet>${split.file.xsl}</stylesheet>
                                            <includes>
                                                <include>bv-all-${xml.version}.xsd</include>
                                            </includes>
                                            <outputDir>${generated.xsd.dir}</outputDir>
                                            <parameters>
                                                <parameter>
                                                    <name>outputns</name>
                                                    <value>http://www.bazaarvoice.com/xs/PRR/ReviewsSubmit/${xml.version}</value>
                                                </parameter>
                                                <parameter>
                                                    <name>outputxsd</name>
                                                    <value>reviews-submit</value>
                                                </parameter>
                                            </parameters>
                                            <fileMappers>
                                                <fileMapper implementation="org.codehaus.plexus.components.io.filemappers.RegExpFileMapper">
                                                    <pattern>bv-all-${xml.version}\.xsd</pattern>
                                                    <replacement>reviews-submit-${xml.version}.xsd</replacement>
                                                </fileMapper>
                                            </fileMappers>
                                        </transformationSet>
                                        <!--
                                            rss-feed generation
                                        -->
                                        <transformationSet>
                                            <dir>${all.xsd.dir}</dir>
                                            <stylesheet>${split.file.xsl}</stylesheet>
                                            <includes>
                                                <include>bv-all-${xml.version}.xsd</include>
                                            </includes>
                                            <outputDir>${generated.xsd.dir}</outputDir>
                                            <parameters>
                                                <parameter>
                                                    <name>outputns</name>
                                                    <value>http://www.bazaarvoice.com/xs/PRR/RssFeed/${xml.version}</value>
                                                </parameter>
                                                <parameter>
                                                    <name>outputxsd</name>
                                                    <value>rss-feed</value>
                                                </parameter>
                                            </parameters>
                                            <fileMappers>
                                                <fileMapper implementation="org.codehaus.plexus.components.io.filemappers.RegExpFileMapper">
                                                    <pattern>bv-all-${xml.version}\.xsd</pattern>
                                                    <replacement>rss-feed-${xml.version}.xsd</replacement>
                                                </fileMapper>
                                            </fileMappers>
                                        </transformationSet>
                                        <!--
                                            standard-client-feed generation
                                        -->
                                        <transformationSet>
                                            <dir>${all.xsd.dir}</dir>
                                            <stylesheet>${split.file.xsl}</stylesheet>
                                            <includes>
                                                <include>bv-all-${xml.version}.xsd</include>
                                            </includes>
                                            <outputDir>${generated.xsd.dir}</outputDir>
                                            <parameters>
                                                <parameter>
                                                    <name>outputns</name>
                                                    <value>http://www.bazaarvoice.com/xs/PRR/StandardClientFeed/${xml.version}</value>
                                                </parameter>
                                                <parameter>
                                                    <name>outputxsd</name>
                                                    <value>standard-client-feed</value>
                                                </parameter>
                                            </parameters>
                                            <fileMappers>
                                                <fileMapper implementation="org.codehaus.plexus.components.io.filemappers.RegExpFileMapper">
                                                    <pattern>bv-all-${xml.version}\.xsd</pattern>
                                                    <replacement>standard-client-feed-${xml.version}.xsd</replacement>
                                                </fileMapper>
                                            </fileMappers>
                                        </transformationSet>
                                        <!--
                                            stories-display generation
                                        -->
                                        <transformationSet>
                                            <dir>${all.xsd.dir}</dir>
                                            <stylesheet>${split.file.xsl}</stylesheet>
                                            <includes>
                                                <include>bv-all-${xml.version}.xsd</include>
                                            </includes>
                                            <outputDir>${generated.xsd.dir}</outputDir>
                                            <parameters>
                                                <parameter>
                                                    <name>outputns</name>
                                                    <value>http://www.bazaarvoice.com/xs/Stories/StoriesDisplay/${xml.version}</value>
                                                </parameter>
                                                <parameter>
                                                    <name>outputxsd</name>
                                                    <value>stories-display</value>
                                                </parameter>
                                            </parameters>
                                            <fileMappers>
                                                <fileMapper implementation="org.codehaus.plexus.components.io.filemappers.RegExpFileMapper">
                                                    <pattern>bv-all-${xml.version}\.xsd</pattern>
                                                    <replacement>stories-display-${xml.version}.xsd</replacement>
                                                </fileMapper>
                                            </fileMappers>
                                        </transformationSet>
                                        <!--
                                            stories-submit generation
                                        -->
                                        <transformationSet>
                                            <dir>${all.xsd.dir}</dir>
                                            <stylesheet>${split.file.xsl}</stylesheet>
                                            <includes>
                                                <include>bv-all-${xml.version}.xsd</include>
                                            </includes>
                                            <outputDir>${generated.xsd.dir}</outputDir>
                                            <parameters>
                                                <parameter>
                                                    <name>outputns</name>
                                                    <value>http://www.bazaarvoice.com/xs/Stories/StoriesSubmit/${xml.version}</value>
                                                </parameter>
                                                <parameter>
                                                    <name>outputxsd</name>
                                                    <value>stories-submit</value>
                                                </parameter>
                                            </parameters>
                                            <fileMappers>
                                                <fileMapper implementation="org.codehaus.plexus.components.io.filemappers.RegExpFileMapper">
                                                    <pattern>bv-all-${xml.version}\.xsd</pattern>
                                                    <replacement>stories-submit-${xml.version}.xsd</replacement>
                                                </fileMapper>
                                            </fileMappers>
                                        </transformationSet>
                                        <!--
                                            syndication-feed generation
                                        -->
                                        <transformationSet>
                                            <dir>${all.xsd.dir}</dir>
                                            <stylesheet>${split.file.xsl}</stylesheet>
                                            <includes>
                                                <include>bv-all-${xml.version}.xsd</include>
                                            </includes>
                                            <outputDir>${generated.xsd.dir}</outputDir>
                                            <parameters>
                                                <parameter>
                                                    <name>outputns</name>
                                                    <value>http://www.bazaarvoice.com/xs/PRR/SyndicationFeed/${xml.version}</value>
                                                </parameter>
                                                <parameter>
                                                    <name>outputxsd</name>
                                                    <value>syndication-feed</value>
                                                </parameter>
                                            </parameters>
                                            <fileMappers>
                                                <fileMapper implementation="org.codehaus.plexus.components.io.filemappers.RegExpFileMapper">
                                                    <pattern>bv-all-${xml.version}\.xsd</pattern>
                                                    <replacement>syndication-feed-${xml.version}.xsd</replacement>
                                                </fileMapper>
                                            </fileMappers>
                                        </transformationSet>
                                        <!--
                                            syndication-receipt-feed generation
                                        -->
                                        <transformationSet>
                                            <dir>${all.xsd.dir}</dir>
                                            <stylesheet>${split.file.xsl}</stylesheet>
                                            <includes>
                                                <include>bv-all-${xml.version}.xsd</include>
                                            </includes>
                                            <outputDir>${generated.xsd.dir}</outputDir>
                                            <parameters>
                                                <parameter>
                                                    <name>outputns</name>
                                                    <value>http://www.bazaarvoice.com/xs/PRR/SyndicationReceiptFeed/${xml.version}</value>
                                                </parameter>
                                                <parameter>
                                                    <name>outputxsd</name>
                                                    <value>syndication-receipt-feed</value>
                                                </parameter>
                                            </parameters>
                                            <fileMappers>
                                                <fileMapper implementation="org.codehaus.plexus.components.io.filemappers.RegExpFileMapper">
                                                    <pattern>bv-all-${xml.version}\.xsd</pattern>
                                                    <replacement>syndication-receipt-feed-${xml.version}.xsd</replacement>
                                                </fileMapper>
                                            </fileMappers>
                                        </transformationSet>
                                        <!--
                                            workbench-recurring-alerts generation
                                        -->
                                        <transformationSet>
                                            <dir>${all.xsd.dir}</dir>
                                            <stylesheet>${split.file.xsl}</stylesheet>
                                            <includes>
                                                <include>bv-all-${xml.version}.xsd</include>
                                            </includes>
                                            <outputDir>${generated.xsd.dir}</outputDir>
                                            <parameters>
                                                <parameter>
                                                    <name>outputns</name>
                                                    <value>http://www.bazaarvoice.com/xs/Internal/WorkbenchRecurringAlerts/${xml.version}</value>
                                                </parameter>
                                                <parameter>
                                                    <name>outputxsd</name>
                                                    <value>workbench-recurring-alerts</value>
                                                </parameter>
                                            </parameters>
                                            <fileMappers>
                                                <fileMapper implementation="org.codehaus.plexus.components.io.filemappers.RegExpFileMapper">
                                                    <pattern>bv-all-${xml.version}\.xsd</pattern>
                                                    <replacement>workbench-recurring-alerts-${xml.version}.xsd</replacement>
                                                </fileMapper>
                                            </fileMappers>
                                        </transformationSet>
                                    </transformationSets>
                                </configuration>
                            </execution>
                            <!-- validate the generated xsds -->
                            <!-- NOTE disabled for now, they take quite a long time -->
                            <!--<execution>-->
                                <!--<id>validate-xsds</id>-->
                                <!--<phase>verify</phase>-->
                                <!--<goals>-->
                                    <!--<goal>validate</goal>-->
                                <!--</goals>-->
                                <!--<configuration>-->
                                    <!--<validationSets>-->
                                        <!--<validationSet>-->
                                            <!--<dir>${project.build.outputDirectory}/${generated.xsd.resource.path}</dir>-->
                                            <!--<systemId>${validation.file.xsd}</systemId>-->
                                        <!--</validationSet>-->
                                    <!--</validationSets>-->
                                <!--</configuration>-->
                            <!--</execution>-->
                        </executions>
                        <dependencies>
                            <!--
                                Just by declaring Saxon as a dependency here it will be used as the xml transformer.
                            -->
                            <dependency>
                                <groupId>net.sf.saxon</groupId>
                                <artifactId>saxon</artifactId>
                                <version>8.7</version>
                            </dependency>
                        </dependencies>
                    </plugin>
                    <!--
                        Use token replacement to introduce xmlns attribute into all generated xsd files.
                    -->
                    <plugin>
                        <artifactId>maven-antrun-plugin</artifactId>
                        <executions>
                            <execution>
                                <id>replace-tokens</id>
                                <phase>generate-sources</phase>
                                <goals>
                                    <goal>run</goal>
                                </goals>
                                <configuration>
                                    <target>
                                        <echo message="Adding xmlns to root element of generated xsds..."/>
                                        <replaceregexp>
                                            <regexp pattern="targetNamespace=&quot;([^&quot;]*)&quot;"/>
                                            <substitution expression="xmlns=&quot;\1&quot; targetNamespace=&quot;\1&quot;"/>
                                            <fileset dir="${generated.xsd.dir}">
                                                <include name="*.xsd"/>
                                            </fileset>
                                        </replaceregexp>
                                    </target>
                                </configuration>
                            </execution>
                        </executions>
                    </plugin>
                    <plugin>
                        <groupId>org.codehaus.mojo</groupId>
                        <artifactId>xmlbeans-maven-plugin</artifactId>
                        <executions>
                            <execution>
                                <id>create-xmlbeans</id>
                                <phase>generate-sources</phase> <!-- xmlbeans default = generate-sources -->
                                <goals>
                                    <goal>xmlbeans</goal>
                                </goals>
                            </execution>
                        </executions>
                        <configuration>
                            <schemaDirectory>${all.xsd.dir}</schemaDirectory>
                            <javaSource>1.5</javaSource>
                            <xmlConfigs>
                                <xmlConfig implementation="java.io.File">${xsdconfig.file}</xmlConfig>
                            </xmlConfigs>
                        </configuration>
                    </plugin>
                </plugins>
            </build>
        </profile>
    </profiles>

    <distributionManagement>
        <repository>
            <id>bazaarvoice-deploy</id>
            <url>https://repo.bazaarvoice.com/nexus/content/repositories/releases/</url>
        </repository>
        <snapshotRepository>
            <id>bazaarvoice-deploy</id>
            <url>https://repo.bazaarvoice.com/nexus/content/repositories/snapshots/</url>
        </snapshotRepository>
    </distributionManagement>

</project>